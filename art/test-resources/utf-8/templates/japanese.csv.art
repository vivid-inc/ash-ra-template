{%

(defn csv-line
  [vals]
  (->> vals
       (map #(format "\"%s\"" %))
       (clojure.string/join ",")))

(def data [
  {"姓"       "藤沢"
   "名"       "清太郎"
   "生年月日" "1988-01-01"
   "郵便番号" "251-0036"
   "住所"     "神奈川県藤沢市江の島１丁目１－１"
   "電話番号" "050-1234-5678"}
  {"姓"       "橘"
   "名"       "涼子"
   "生年月日" "1999-01-01"
   "郵便番号" "100-0002"
   "住所"     "東京都千代田区丸の内1丁目9－1"
   "電話番号" "090-1234-5678"} ])

%}{{ (csv-line (keys (first data))) }}
{% (doseq [entry data] %}{{ (format "%s\n" (csv-line (vals entry))) }}{% ) %}
